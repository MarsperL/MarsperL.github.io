function refreshCache(){if(confirm("是否确定刷新博文缓存？这将清除本地缓存并重新加载页面。")){const e=document.getElementById("clear-sw-cache-btn");e&&(e.disabled=!0,e.textContent="正在刷新..."),(async()=>{try{if("serviceWorker"in navigator){const e=await navigator.serviceWorker.getRegistrations();console.log(`找到 ${e.length} 个 Service Worker，准备注销...`);for(const o of e)await o.unregister(),console.log("Service Worker 已注销:",o.scope)}if("caches"in window){const e=await caches.keys();console.log(`找到 ${e.length} 个缓存，准备删除 "BlogCache"...`),e.includes("BlogCache")?(await caches.delete("BlogCache"),console.log('缓存 "BlogCache" 已删除')):console.log('未找到名为 "BlogCache" 的缓存')}console.log("缓存清理完成，即将重新加载页面..."),window.location.reload()}catch(o){console.error("刷新缓存时出错:",o),alert("刷新缓存失败，请查看控制台获取详细信息。"),e&&(e.disabled=!1,e.textContent="强制刷新缓存")}})()}}document.getElementById("refresh-btn")?.addEventListener("click",refreshCache);